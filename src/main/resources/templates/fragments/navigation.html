<nav class="bg-white dark:bg-gray-800 sticky top-0 z-50" th:fragment="navigation(activePage)" x-data="{ darkMode: localStorage.getItem('darkMode') === 'true', mobileMenuOpen: false }" x-init="darkMode && document.documentElement.classList.add('dark')">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
            <!-- Menu Desktop -->
            <div class="hidden md:flex items-center space-x-8">
                <a th:href="@{/}" 
                   th:class="${activePage == 'home'} ? 
                   'text-indigo-600 dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' : 
                   'text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-home mr-1"></i>Home
                </a>
                <a th:href="@{/about}" 
                   th:class="${activePage == 'about'} ? 
                   'text-indigo-600 dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' : 
                   'text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-info-circle mr-1"></i>Sobre
                </a>
                <a th:href="@{/contact}" 
                   th:class="${activePage == 'contact'} ? 
                   'text-indigo-600 dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' : 
                   'text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-envelope mr-1"></i>Contato
                </a>
            </div>

            <!-- Dark Mode Toggle and Mobile menu button -->
            <!-- <div class="flex items-center ml-4">
                <button @click="darkMode = !darkMode; darkMode ? document.documentElement.classList.add('dark') : document.documentElement.classList.remove('dark'); localStorage.setItem('darkMode', darkMode)"
                        class="text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400 focus:outline-none mr-4">
                    <i x-show="!darkMode" class="fas fa-moon text-xl"></i>
                    <i x-show="darkMode" class="fas fa-sun text-xl"></i>
                </button>

                <div class="md:hidden">
                    <button @click="mobileMenuOpen = !mobileMenuOpen" type="button" class="text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400 focus:outline-none">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div> -->
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 transform -translate-y-2"
             x-transition:enter-end="opacity-100 transform translate-y-0"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 transform translate-y-0"
             x-transition:leave-end="opacity-0 transform -translate-y-2"
             class="md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a th:href="@{/}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Home</a>
                <a th:href="@{/about}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Sobre</a>
                <a th:href="@{/contact}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Contato</a>
            </div>
        </div>
    </div>
</nav>