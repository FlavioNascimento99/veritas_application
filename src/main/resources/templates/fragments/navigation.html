<nav class="dark:bg-gray-800 sticky top-0 z-50" 
    th:fragment="navigation(activePage)" 
    x-data="{ darkMode: localStorage.getItem('darkMode') === 'true', mobileMenuOpen: false }" 
    x-init="darkMode && document.documentElement.classList.add('dark')"
    >
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">

            <!-- Menu Desktop -->
            <div class="hidden md:flex items-center space-x-8">
                <a th:href="@{/}" 
                   th:class="${activePage == 'home'} ? 
                   'text-white dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' 
                   : 
                   'text-white dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'
                   "
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-home mr-1"></i>Home
                </a>

                <a th:href="@{/about}" 
                   th:class="${activePage == 'about'} ? 
                   'text-white dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' 
                   : 
                   'text-white dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-info-circle mr-1"></i>Sobre
                </a>
                
                <a th:href="@{/contact}" 
                   th:class="${activePage == 'contact'} ? 
                   'text-white dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' 
                   : 
                   'text-white dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                    <i class="fas fa-envelope mr-1"></i>
                    Contato
                </a>

                <a th:href="@{/login}" 
                   th:class="${activePage == 'login'} ? 
                   'text-white dark:text-indigo-300 border-b-2 border-indigo-600 dark:border-indigo-400' 
                   : 
                   'text-white dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400'"
                   class="px-3 py-2 text-sm font-medium transition duration-300">
                <i class="fa-solid fa-door-closed"></i>
                    Login
                </a>

            </div>
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 transform -translate-y-2"
             x-transition:enter-end="opacity-100 transform translate-y-0"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 transform translate-y-0"
             x-transition:leave-end="opacity-0 transform -translate-y-2"
             class="md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a th:href="@{/}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Home</a>
                <a th:href="@{/about}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Sobre</a>
                <a th:href="@{/contact}" class="block px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-indigo-500 dark:hover:text-indigo-400">Contato</a>
            </div>
        </div>
    </div>
</nav>